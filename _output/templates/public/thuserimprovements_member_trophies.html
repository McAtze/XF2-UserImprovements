<div class="block">
	<div class="block-container">
		<xf:if is="$trophies is not empty">
			<ol class="block-body">
				<xf:foreach loop="$trophies.uncategorized" value="$trophy">
					<xf:macro template="thuserimprovements_trophy_macros" name="user_trophy_item" arg-trophy="{$trophy}" />
				</xf:foreach>
			</ol>

			<xf:foreach loop="$trophyCategories" key="$category_id" value="$category">
				<xf:if is="{$trophies.{$category_id}} is not empty">
					<h2 class="block-header">
						{{ anchor_target('trophy_category_id' . $category.trophy_category_id) }}
						{$category.title}
					</h2>
					<ol class="block-body">
						<xf:foreach loop="{$trophies.{$category_id}}" value="$trophy">
							<xf:macro template="thuserimprovements_trophy_macros"
									  name="user_trophy_item" arg-trophy="{$trophy}" />
						</xf:foreach>
					</ol>
				</xf:if>
			</xf:foreach>
			<xf:else />
			<div class="block-body block-row">{{ phrase('x_has_not_been_awarded_any_trophies_yet', {'name': $user.username}) }}</div>
		</xf:if>
		<div class="block-footer block-footer--split">
			<span class="block-footer-counter">{{ phrase('total_points:') }} {{ number($user.trophy_points) }}</span>
			<span class="block-footer-controls">
				<xf:button href="{{ link('help', {'page_name': 'trophies'}) }}">
					{{ phrase('view_all_available_trophies') }}
				</xf:button>
			</span>
		</div>
	</div>
</div>